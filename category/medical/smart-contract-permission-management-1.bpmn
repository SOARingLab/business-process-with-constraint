<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1ektd0b" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="8.9.0">  <bpmn:collaboration id="Collaboration_1pf3ska">    <bpmn:participant id="Participant_1ikuqkn" name="Smart Contract" processRef="Process_0z0wstc" />    <bpmn:participant id="Participant_1fwf6ln" name="Patient" />    <bpmn:participant id="Participant_0qtlf6p" name="Requestor" />    <bpmn:messageFlow id="Flow_1bwsbsv" sourceRef="Participant_0qtlf6p" targetRef="StartEvent_00wwpbs" />    <bpmn:messageFlow id="Flow_10p85qn" name="in form requestor of failed request" sourceRef="Event_0u2l2p0" targetRef="Participant_0qtlf6p" />    <bpmn:messageFlow id="Flow_0iyx6ye" name="Send request to patient" sourceRef="Event_1c5w0qd" targetRef="Participant_1fwf6ln" />    <bpmn:messageFlow id="Flow_1uaxrgn" name="Patient rejects request" sourceRef="Participant_1fwf6ln" targetRef="Event_0jd3zbn" />    <bpmn:messageFlow id="Flow_1qb8z1q" sourceRef="Event_1ulw4bn" targetRef="Participant_0qtlf6p" />    <bpmn:messageFlow id="Flow_1pv51bu" name="inform healthcare provider that request is accepted" sourceRef="Event_19j0l7p" targetRef="Participant_0qtlf6p" />    <bpmn:messageFlow id="Flow_0o4x255" name="Patient accepts request" sourceRef="Participant_1fwf6ln" targetRef="Event_13hk839" />  </bpmn:collaboration>  <bpmn:process id="Process_0z0wstc" isExecutable="false">    <bpmn:startEvent id="StartEvent_00wwpbs" name="Receive request">      <bpmn:outgoing>Flow_1j2f00b</bpmn:outgoing>      <bpmn:messageEventDefinition id="MessageEventDefinition_193i8in" />    </bpmn:startEvent>    <bpmn:task id="Activity_1ayz4bn" name="obtation public address of patient">      <bpmn:incoming>Flow_1j2f00b</bpmn:incoming>      <bpmn:outgoing>Flow_17tu6sn</bpmn:outgoing>      <bpmn:dataOutputAssociation id="DataOutputAssociation_04lfv69">        <bpmn:targetRef>DataStoreReference_15y8a87</bpmn:targetRef>      </bpmn:dataOutputAssociation>    </bpmn:task>    <bpmn:dataStoreReference id="DataStoreReference_15y8a87" name="Mapping of public keys to identify patient" />    <bpmn:exclusiveGateway id="Gateway_0lijs5z">      <bpmn:incoming>Flow_17tu6sn</bpmn:incoming>      <bpmn:outgoing>Flow_1xrx54h</bpmn:outgoing>      <bpmn:outgoing>Flow_1anqccx</bpmn:outgoing>    </bpmn:exclusiveGateway>    <bpmn:endEvent id="Event_0u2l2p0">      <bpmn:incoming>Flow_1xrx54h</bpmn:incoming>      <bpmn:messageEventDefinition id="MessageEventDefinition_0embrsb" />    </bpmn:endEvent>    <bpmn:exclusiveGateway id="Gateway_0pe0yzh">      <bpmn:incoming>Flow_091fvit</bpmn:incoming>      <bpmn:outgoing>Flow_0h58y5x</bpmn:outgoing>      <bpmn:outgoing>Flow_0r2w3qd</bpmn:outgoing>    </bpmn:exclusiveGateway>    <bpmn:intermediateThrowEvent id="Event_1c5w0qd">      <bpmn:incoming>Flow_1anqccx</bpmn:incoming>      <bpmn:outgoing>Flow_091fvit</bpmn:outgoing>      <bpmn:messageEventDefinition id="MessageEventDefinition_12t2kxt" />    </bpmn:intermediateThrowEvent>    <bpmn:intermediateCatchEvent id="Event_0jd3zbn">      <bpmn:incoming>Flow_0h58y5x</bpmn:incoming>      <bpmn:outgoing>Flow_0xvwy7i</bpmn:outgoing>      <bpmn:messageEventDefinition id="MessageEventDefinition_1hjn6fn" />    </bpmn:intermediateCatchEvent>    <bpmn:endEvent id="Event_1ulw4bn">      <bpmn:incoming>Flow_0xvwy7i</bpmn:incoming>      <bpmn:messageEventDefinition id="MessageEventDefinition_0pw2t1y" />    </bpmn:endEvent>    <bpmn:endEvent id="Event_19j0l7p">      <bpmn:incoming>Flow_0hbxy3k</bpmn:incoming>      <bpmn:messageEventDefinition id="MessageEventDefinition_09jwr9h" />    </bpmn:endEvent>    <bpmn:task id="Activity_1sug622" name="update permission of patient&#39;s record">      <bpmn:incoming>Flow_10rw7ei</bpmn:incoming>      <bpmn:outgoing>Flow_0hbxy3k</bpmn:outgoing>      <bpmn:dataOutputAssociation id="DataOutputAssociation_0oqcick">        <bpmn:targetRef>DataStoreReference_1pbcase</bpmn:targetRef>      </bpmn:dataOutputAssociation>    </bpmn:task>    <bpmn:dataStoreReference id="DataStoreReference_1pbcase" name="permission management database" />    <bpmn:intermediateCatchEvent id="Event_13hk839">      <bpmn:incoming>Flow_0r2w3qd</bpmn:incoming>      <bpmn:outgoing>Flow_10rw7ei</bpmn:outgoing>      <bpmn:messageEventDefinition id="MessageEventDefinition_0zbd8eq" />    </bpmn:intermediateCatchEvent>    <bpmn:sequenceFlow id="Flow_1j2f00b" sourceRef="StartEvent_00wwpbs" targetRef="Activity_1ayz4bn" />    <bpmn:sequenceFlow id="Flow_17tu6sn" sourceRef="Activity_1ayz4bn" targetRef="Gateway_0lijs5z" />    <bpmn:sequenceFlow id="Flow_1xrx54h" name="public key is not registered" sourceRef="Gateway_0lijs5z" targetRef="Event_0u2l2p0" />    <bpmn:sequenceFlow id="Flow_1anqccx" sourceRef="Gateway_0lijs5z" targetRef="Event_1c5w0qd" />    <bpmn:sequenceFlow id="Flow_091fvit" sourceRef="Event_1c5w0qd" targetRef="Gateway_0pe0yzh" />    <bpmn:sequenceFlow id="Flow_0h58y5x" sourceRef="Gateway_0pe0yzh" targetRef="Event_0jd3zbn" />    <bpmn:sequenceFlow id="Flow_0r2w3qd" sourceRef="Gateway_0pe0yzh" targetRef="Event_13hk839" />    <bpmn:sequenceFlow id="Flow_0xvwy7i" sourceRef="Event_0jd3zbn" targetRef="Event_1ulw4bn" />    <bpmn:sequenceFlow id="Flow_10rw7ei" sourceRef="Event_13hk839" targetRef="Activity_1sug622" />    <bpmn:sequenceFlow id="Flow_0hbxy3k" sourceRef="Activity_1sug622" targetRef="Event_19j0l7p" />    <bpmn:textAnnotation id="TextAnnotation_14xt7s5">      <bpmn:text>request is sent to public address of patient</bpmn:text>    </bpmn:textAnnotation>    <bpmn:association id="Association_095hkfq" sourceRef="Event_1c5w0qd" targetRef="TextAnnotation_14xt7s5" />  </bpmn:process>  <bpmndi:BPMNDiagram id="BPMNDiagram_1">    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1pf3ska">      <bpmndi:BPMNShape id="Participant_0svuw8n_di" bpmnElement="Participant_1fwf6ln" isHorizontal="true">        <dc:Bounds x="160" y="50" width="870" height="60" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Participant_1ikuqkn_di" bpmnElement="Participant_1ikuqkn" isHorizontal="true">        <dc:Bounds x="160" y="130" width="870" height="345" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="TextAnnotation_14xt7s5_di" bpmnElement="TextAnnotation_14xt7s5">        <dc:Bounds x="590" y="345" width="100" height="70" />      </bpmndi:BPMNShape>      <bpmndi:BPMNEdge id="Flow_1j2f00b_di" bpmnElement="Flow_1j2f00b">        <di:waypoint x="246" y="280" />        <di:waypoint x="300" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_17tu6sn_di" bpmnElement="Flow_17tu6sn">        <di:waypoint x="400" y="280" />        <di:waypoint x="455" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_1xrx54h_di" bpmnElement="Flow_1xrx54h">        <di:waypoint x="480" y="255" />        <di:waypoint x="480" y="200" />        <di:waypoint x="522" y="200" />        <bpmndi:BPMNLabel>          <dc:Bounds x="455" y="225" width="80" height="27" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_1anqccx_di" bpmnElement="Flow_1anqccx">        <di:waypoint x="505" y="280" />        <di:waypoint x="582" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_091fvit_di" bpmnElement="Flow_091fvit">        <di:waypoint x="618" y="280" />        <di:waypoint x="645" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0h58y5x_di" bpmnElement="Flow_0h58y5x">        <di:waypoint x="670" y="255" />        <di:waypoint x="670" y="200" />        <di:waypoint x="692" y="200" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0r2w3qd_di" bpmnElement="Flow_0r2w3qd">        <di:waypoint x="695" y="280" />        <di:waypoint x="732" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0xvwy7i_di" bpmnElement="Flow_0xvwy7i">        <di:waypoint x="728" y="200" />        <di:waypoint x="782" y="200" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_10rw7ei_di" bpmnElement="Flow_10rw7ei">        <di:waypoint x="768" y="280" />        <di:waypoint x="810" y="280" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0hbxy3k_di" bpmnElement="Flow_0hbxy3k">        <di:waypoint x="860" y="240" />        <di:waypoint x="860" y="220" />        <di:waypoint x="940" y="220" />        <di:waypoint x="940" y="262" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNShape id="Event_0s8sd2i_di" bpmnElement="StartEvent_00wwpbs">        <dc:Bounds x="210" y="262" width="36" height="36" />        <bpmndi:BPMNLabel>          <dc:Bounds x="188" y="232" width="81" height="14" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Activity_1ayz4bn_di" bpmnElement="Activity_1ayz4bn">        <dc:Bounds x="300" y="240" width="100" height="80" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="DataStoreReference_15y8a87_di" bpmnElement="DataStoreReference_15y8a87">        <dc:Bounds x="325" y="345" width="50" height="50" />        <bpmndi:BPMNLabel>          <dc:Bounds x="307" y="402" width="87" height="40" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Gateway_0lijs5z_di" bpmnElement="Gateway_0lijs5z" isMarkerVisible="true">        <dc:Bounds x="455" y="255" width="50" height="50" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_15zb18s_di" bpmnElement="Event_0u2l2p0">        <dc:Bounds x="522" y="182" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Gateway_0pe0yzh_di" bpmnElement="Gateway_0pe0yzh" isMarkerVisible="true">        <dc:Bounds x="645" y="255" width="50" height="50" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_07cfhm0_di" bpmnElement="Event_1c5w0qd">        <dc:Bounds x="582" y="262" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_1dw02rh_di" bpmnElement="Event_0jd3zbn">        <dc:Bounds x="692" y="182" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_0hnwpx1_di" bpmnElement="Event_1ulw4bn">        <dc:Bounds x="782" y="182" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_0sbjec8_di" bpmnElement="Event_19j0l7p">        <dc:Bounds x="922" y="262" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Activity_1sug622_di" bpmnElement="Activity_1sug622">        <dc:Bounds x="810" y="240" width="100" height="80" />      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="DataStoreReference_1pbcase_di" bpmnElement="DataStoreReference_1pbcase">        <dc:Bounds x="835" y="335" width="50" height="50" />        <bpmndi:BPMNLabel>          <dc:Bounds x="827" y="392" width="66" height="40" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNShape>      <bpmndi:BPMNShape id="Event_1idc9vv_di" bpmnElement="Event_13hk839">        <dc:Bounds x="732" y="262" width="36" height="36" />      </bpmndi:BPMNShape>      <bpmndi:BPMNEdge id="Association_095hkfq_di" bpmnElement="Association_095hkfq">        <di:waypoint x="599" y="298" />        <di:waypoint x="365" y="350" />        <di:waypoint x="595" y="345" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNShape id="Participant_0oe0t1r_di" bpmnElement="Participant_0qtlf6p" isHorizontal="true">        <dc:Bounds x="160" y="490" width="870" height="60" />      </bpmndi:BPMNShape>      <bpmndi:BPMNEdge id="Flow_1bwsbsv_di" bpmnElement="Flow_1bwsbsv">        <di:waypoint x="228" y="490" />        <di:waypoint x="228" y="298" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="DataOutputAssociation_04lfv69_di" bpmnElement="DataOutputAssociation_04lfv69">        <di:waypoint x="352" y="320" />        <di:waypoint x="354" y="345" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_10p85qn_di" bpmnElement="Flow_10p85qn">        <di:waypoint x="540" y="218" />        <di:waypoint x="540" y="490" />        <bpmndi:BPMNLabel>          <dc:Bounds x="513" y="355" width="85" height="27" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0iyx6ye_di" bpmnElement="Flow_0iyx6ye">        <di:waypoint x="600" y="262" />        <di:waypoint x="600" y="110" />        <bpmndi:BPMNLabel>          <dc:Bounds x="576" y="183" width="78" height="27" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_1uaxrgn_di" bpmnElement="Flow_1uaxrgn">        <di:waypoint x="710" y="110" />        <di:waypoint x="710" y="182" />        <bpmndi:BPMNLabel>          <dc:Bounds x="690" y="143" width="71" height="27" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_1qb8z1q_di" bpmnElement="Flow_1qb8z1q">        <di:waypoint x="800" y="218" />        <di:waypoint x="800" y="490" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_1pv51bu_di" bpmnElement="Flow_1pv51bu">        <di:waypoint x="940" y="298" />        <di:waypoint x="940" y="490" />        <bpmndi:BPMNLabel>          <dc:Bounds x="913" y="404" width="85" height="53" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="DataOutputAssociation_0oqcick_di" bpmnElement="DataOutputAssociation_0oqcick">        <di:waypoint x="862" y="320" />        <di:waypoint x="863" y="335" />      </bpmndi:BPMNEdge>      <bpmndi:BPMNEdge id="Flow_0o4x255_di" bpmnElement="Flow_0o4x255">        <di:waypoint x="750" y="110" />        <di:waypoint x="750" y="262" />        <bpmndi:BPMNLabel>          <dc:Bounds x="727" y="183" width="76" height="27" />        </bpmndi:BPMNLabel>      </bpmndi:BPMNEdge>    </bpmndi:BPMNPlane>  </bpmndi:BPMNDiagram></bpmn:definitions>